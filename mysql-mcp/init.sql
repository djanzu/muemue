SET NAMES utf8mb4;   -- クライアント側も UTF‑8 に統一

CREATE DATABASE IF NOT EXISTS my_database
    CHARACTER SET utf8mb4
    COLLATE utf8mb4_unicode_ci;

USE my_database;

-- users テーブル
CREATE TABLE users (
    id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(100) NOT NULL UNIQUE,
    birthdate DATE
);

-- login_histories テーブル
CREATE TABLE login_histories (
    id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
    user_id INT UNSIGNED NOT NULL,
    -- DATETIME型を使用し、デフォルト値として現在時刻を設定
    login_date DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
    
);

INSERT INTO users (name, email, birthdate) VALUES
('佐藤 健太', 'kenta.sato@example.com', '1990-04-15'),
('田中 綾子', 'ayako.tanaka@example.com', '1985-11-23'),
('山本 大地', 'daichi.yamamoto@example.com', '1998-07-01'),
('中村 美咲', 'misaki.nakamura@example.com', '1993-02-28'),
('小林 拓海', 'takumi.kobayashi@example.com', '2000-09-10'),
('加藤 陽菜', 'hina.kato@example.com', '1995-05-05'),
('吉田 悠真', 'yuma.yoshida@example.com', '1988-12-19'),
('山田 結衣', 'yui.yamada@example.com', '1996-03-03'),
('佐々木 翔太', 'shota.sasaki@example.com', '1991-08-14'),
('高橋 葵', 'aoi.takahashi@example.com', '2001-01-20'),
('伊藤 隆', 'takashi.ito@example.com', '1982-06-25'),
('鈴木 里奈', 'rina.suzuki@example.com', '1999-10-17'),
('渡辺 誠', 'makoto.watanabe@example.com', '1975-04-02'),
('斎藤 梨花', 'rika.saito@example.com', '1994-11-11'),
('松本 悟', 'satoru.matsumoto@example.com', '1987-07-29'),
('井上 沙織', 'saori.inoue@example.com', '2003-01-05'),
('木村 隼人', 'hayato.kimura@example.com', '1992-06-30'),
('林 咲良', 'sakura.hayashi@example.com', '1989-03-12'),
('清水 健二', 'kenji.shimizu@example.com', '1979-10-08'),
('阿部 詩', 'uta.abe@example.com', '2002-05-27'),
('森 浩司', 'koji.mori@example.com', '1980-12-07'),
('石川 華', 'hana.ishikawa@example.com', '1997-09-21'),
('橋本 蓮', 'ren.hashimoto@example.com', '1993-02-18'),
('池田 莉子', 'riko.ikeda@example.com', '2004-04-09'),
('岡田 亮介', 'ryosuke.okada@example.com', '1984-07-16'),
('藤田 真由', 'mayu.fujita@example.com', '1990-12-24'),
('小野 哲也', 'tetsuya.ono@example.com', '1978-05-13'),
('宮崎 遥', 'haruka.miyazaki@example.com', '1995-10-31'),
('原田 渉', 'wataru.harada@example.com', '2001-03-06'),
('西村 萌', 'moe.nishimura@example.com', '1986-08-22'),
('竹内 雄一', 'yuichi.takeuchi@example.com', '1970-01-01'),
('中島 恵', 'megumi.nakajima@example.com', '1998-05-17'),
('三浦 誠也', 'seiya.miura@example.com', '1994-06-29'),
('大西 玲奈', 'rena.onishi@example.com', '1983-11-09'),
('福田 裕介', 'yusuke.fukuda@example.com', '1996-12-04'),
('村上 杏奈', 'anna.murakami@example.com', '1999-02-15'),
('横山 拓也', 'takuya.yokoyama@example.com', '1981-09-27'),
('太田 理恵', 'rie.ota@example.com', '2000-08-05'),
('平野 圭', 'kei.hirano@example.com', '1977-03-26'),
('川上 紗季', 'saki.kawakami@example.com', '1992-04-18'),
('野村 剛', 'tsuyoshi.nomura@example.com', '1985-01-24'),
('石田 梓', 'azusa.ishida@example.com', '2002-10-12'),
('岩崎 達也', 'tatsuya.iwasaki@example.com', '1974-12-21'),
('上野 愛', 'ai.ueno@example.com', '1997-06-08'),
('小川 裕太', 'yuta.ogawa@example.com', '1989-05-20'),
('辻本 奈緒', 'nao.tsujimoto@example.com', '1995-09-02'),
('久保 雅人', 'masato.kubo@example.com', '1986-04-07'),
('坂本 琴音', 'kotone.sakamoto@example.com', '2001-11-26'),
('柴田 聡', 'satoshi.shibata@example.com', '1976-02-14'),
('田村 恵美', 'emi.tamura@example.com', '1993-07-23'),
('中川 隼', 'jun.nakagawa@example.com', '1988-10-30'),
('長谷川 遥香', 'haruka.hasegawa@example.com', '1990-03-08'),
('浜田 陸', 'riku.hamada@example.com', '1983-08-11'),
('堀内 茜', 'akane.horiuchi@example.com', '1996-01-06'),
('前田 渉', 'wataru.maeda@example.com', '2003-05-29'),
('町田 和樹', 'kazuki.machida@example.com', '1979-11-18'),
('水野 詩織', 'shiori.mizuno@example.com', '1991-04-25'),
('山崎 健吾', 'kengo.yamazaki@example.com', '1980-06-16'),
('吉岡 紗英', 'sae.yoshioka@example.com', '1994-09-13');

INSERT INTO login_histories (user_id, login_date) VALUES
(15, '2025-08-01 10:20:15'),
(3, '2025-11-09 15:05:40'),
(1, '2025-10-14 07:35:55'),
(8, '2025-09-03 21:11:22'),
(11, '2025-07-28 13:48:04'),
(5, '2025-06-19 18:22:30'),
(17, '2025-05-10 09:56:11'),
(1, '2025-10-25 16:30:00'),
(9, '2025-11-10 08:44:59'),
(18, '2025-07-07 05:19:33'),
(6, '2025-09-15 14:02:47'),
(20, '2025-05-29 23:58:12'),
(4, '2025-10-01 11:37:01'),
(13, '2025-08-20 19:25:36'),
(10, '2025-06-03 06:17:50'),
(2, '2025-11-04 12:41:28'),
(7, '2025-09-22 17:09:03'),
(14, '2025-05-18 20:33:45'),
(1, '2025-10-18 10:55:20'),
(19, '2025-07-12 04:00:10'),
(16, '2025-08-08 22:15:38'),
(5, '2025-11-02 01:29:51'),
(3, '2025-06-25 16:51:07'),
(12, '2025-09-29 08:14:33'),
(8, '2025-10-05 17:08:49'),
(1, '2025-11-11 09:30:00'),
(11, '2025-07-02 14:39:16'),
(4, '2025-08-27 19:44:28'),
(17, '2025-06-10 23:03:05'),
(15, '2025-10-20 15:50:39'),
(2, '2025-05-01 11:07:22'),
(10, '2025-09-11 03:26:54'),
(9, '2025-07-16 18:40:17'),
(18, '2025-08-15 12:13:29'),
(6, '2025-11-06 10:00:00'),
(13, '2025-10-29 07:24:55'),
(20, '2025-06-07 20:53:19'),
(7, '2025-09-08 15:32:06'),
(19, '2025-05-24 02:47:31'),
(1, '2025-11-05 21:09:44'),
(14, '2025-08-04 11:58:53'),
(16, '2025-07-09 16:23:08'),
(5, '2025-10-09 13:17:35'),
(3, '2025-09-01 19:42:00'),
(12, '2025-06-28 04:55:18'),
(8, '2025-11-01 00:36:27'),
(1, '2025-05-08 08:52:43'),
(11, '2025-10-23 14:10:09'),
(4, '2025-07-19 18:05:37'),
(17, '2025-09-17 12:34:56'),
(15, '2025-06-06 05:49:02'),
(2, '2025-11-07 17:28:13'),
(10, '2025-08-12 20:03:25'),
(9, '2025-10-31 06:16:34'),
(18, '2025-07-24 10:59:49'),
(6, '2025-09-04 15:45:00'),
(13, '2025-05-15 22:21:18'),
(20, '2025-10-03 09:33:33'),
(7, '2025-07-30 13:00:41'),
(19, '2025-08-23 18:11:56'),
(1, '2025-09-27 16:47:05'),
(14, '2025-06-22 00:12:19'),
(16, '2025-11-08 19:00:26'),
(5, '2025-08-18 14:27:32'),
(3, '2025-10-16 11:38:46'),
(12, '2025-07-05 06:53:57'),
(8, '2025-09-24 21:28:09'),
(1, '2025-10-28 12:04:14'),
(11, '2025-05-04 17:31:27'),
(4, '2025-09-20 10:46:58'),
(17, '2025-08-06 15:13:00'),
(15, '2025-11-03 04:59:17'),
(2, '2025-06-13 18:35:22'),
(10, '2025-10-07 23:40:36'),
(9, '2025-08-30 07:10:48'),
(18, '2025-05-13 14:58:00'),
(6, '2025-10-24 10:25:12'),
(13, '2025-07-01 19:16:30'),
(20, '2025-09-06 01:45:41'),
(7, '2025-11-01 16:54:55'),
(19, '2025-06-17 22:30:08'),
(1, '2025-08-25 13:20:16'),
(14, '2025-10-11 05:05:29'),
(16, '2025-07-26 11:15:44'),
(5, '2025-09-13 18:57:50'),
(3, '2025-11-08 09:00:00'),
(12, '2025-08-31 14:31:13'),
(8, '2025-06-05 20:10:25'),
(1, '2025-07-14 06:45:39'),
(11, '2025-09-02 11:59:52'),
(4, '2025-11-04 16:24:07'),
(17, '2025-06-30 21:08:18'),
(15, '2025-08-29 03:53:29'),
(2, '2025-10-12 10:18:41'),
(10, '2025-05-20 15:04:56'),
(9, '2025-07-21 23:49:00'),
(18, '2025-09-19 07:34:11'),
(6, '2025-08-09 12:50:23'),
(13, '2025-10-26 17:36:37'),
(20, '2025-07-08 22:20:49'),
(7, '2025-05-27 10:05:55'),
(19, '2025-11-09 15:51:00'),
(1, '2025-06-15 11:32:14'),
(14, '2025-09-05 16:08:28'),
(16, '2025-08-11 20:43:40'),
(5, '2025-10-02 05:27:51'),
(3, '2025-07-23 10:45:06'),
(12, '2025-11-06 15:18:17'),
(8, '2025-08-16 19:54:29'),
(1, '2025-10-04 04:39:44'),
(11, '2025-06-20 09:15:57'),
(4, '2025-08-02 13:51:08'),
(17, '2025-10-21 18:26:21'),
(15, '2025-07-17 23:12:35'),
(2, '2025-09-25 07:57:48'),
(10, '2025-11-03 12:43:00'),
(9, '2025-06-08 17:18:15'),
(18, '2025-10-19 21:55:28'),
(6, '2025-07-29 02:41:40'),
(13, '2025-09-16 07:27:53'),
(20, '2025-05-06 12:00:00'),
(7, '2025-10-30 16:36:18'),
(19, '2025-08-05 20:21:30'),
(1, '2025-11-01 10:10:45'),
(14, '2025-07-10 14:56:58'),
(16, '2025-09-28 19:42:11'),
(5, '2025-06-11 00:27:26'),
(3, '2025-08-22 05:13:39'),
(12, '2025-10-27 09:59:52'),
(8, '2025-07-04 14:45:04'),
(1, '2025-09-10 19:30:17'),
(11, '2025-11-07 00:15:30'),
(4, '2025-06-26 05:00:43'),
(17, '2025-09-14 09:46:56'),
(15, '2025-10-06 14:32:09'),
(2, '2025-07-20 19:17:21'),
(10, '2025-08-14 01:02:35'),
(9, '2025-10-22 05:47:48'),
(18, '2025-06-01 10:33:00'),
(6, '2025-09-21 15:18:13'),
(13, '2025-08-19 20:04:26'),
(20, '2025-11-05 04:50:39'),
(7, '2025-06-29 09:35:52'),
(19, '2025-10-08 14:21:05'),
(1, '2025-07-27 19:06:18'),
(14, '2025-05-22 23:51:30'),
(16, '2025-10-17 04:36:44'),
(5, '2025-08-24 09:22:00'),
(3, '2025-06-09 13:08:15'),
(12, '2025-09-07 17:43:28'),
(8, '2025-11-02 22:29:40'),
(1, '2025-05-31 07:15:53'),
(11, '2025-10-05 11:01:06'),
(4, '2025-07-15 15:36:19'),
(17, '2025-11-01 20:21:32'),
(15, '2025-06-23 01:06:45'),
(2, '2025-09-30 05:51:58'),
(10, '2025-08-07 10:37:11'),
(9, '2025-11-06 15:22:24'),
(18, '2025-07-13 20:07:37'),
(6, '2025-10-25 00:52:50'),
(13, '2025-05-11 05:38:03'),
(20, '2025-09-18 10:23:16'),
(7, '2025-08-26 15:08:29'),
(19, '2025-11-04 19:53:42'),
(1, '2025-06-02 00:39:55'),
(14, '2025-09-23 05:25:08'),
(16, '2025-07-31 10:10:21'),
(5, '2025-10-15 14:55:34'),
(3, '2025-05-25 19:40:47'),
(12, '2025-08-10 00:26:00'),
(8, '2025-10-28 05:11:13'),
(1, '2025-07-06 09:56:26'),
(11, '2025-09-26 14:41:39'),
(4, '2025-11-08 19:26:52'),
(17, '2025-08-21 00:12:05'),
(15, '2025-10-13 04:57:18'),
(2, '2025-06-18 09:42:31'),
(10, '2025-09-09 14:27:44'),
(9, '2025-11-05 19:12:57'),
(18, '2025-08-03 00:58:10'),
(6, '2025-10-29 05:43:23'),
(13, '2025-07-25 10:28:36'),
(20, '2025-09-12 15:13:49'),
(7, '2025-11-10 19:59:00'),
(19, '2025-06-24 00:44:13'),

-- 低頻度ユーザー (ID: 21-60) のログイン履歴 50件
(23, '2025-10-09 17:34:55'),
(45, '2025-05-07 11:21:03'),
(51, '2025-09-03 04:50:18'),
(37, '2025-11-01 22:15:30'),
(29, '2025-07-19 09:05:42'),
(59, '2025-06-14 13:40:51'),
(21, '2025-10-26 16:16:07'),
(42, '2025-08-28 20:31:19'),
(33, '2025-05-21 07:08:34'),
(56, '2025-11-09 01:54:48'),
(25, '2025-07-03 12:29:59'),
(48, '2025-09-17 19:10:14'),
(31, '2025-06-21 03:45:26'),
(54, '2025-10-31 08:30:38'),
(27, '2025-08-09 14:55:53'),
(40, '2025-05-30 23:21:07'),
(35, '2025-09-25 06:12:19'),
(57, '2025-11-06 11:47:33'),
(22, '2025-07-27 18:03:45'),
(49, '2025-06-04 02:38:58'),
(39, '2025-10-13 21:09:10'),
(52, '2025-08-02 10:54:24'),
(24, '2025-05-16 15:39:35'),
(46, '2025-09-20 00:15:47'),
(36, '2025-07-11 05:01:00'),
(58, '2025-11-03 13:26:12'),
(30, '2025-08-14 22:51:25'),
(41, '2025-06-28 07:16:38'),
(32, '2025-10-02 16:41:50'),
(55, '2025-09-28 10:07:03'),
(26, '2025-05-09 18:32:15'),
(44, '2025-11-10 03:00:29'),
(34, '2025-07-18 11:45:41'),
(50, '2025-08-05 15:10:54'),
(28, '2025-06-06 20:56:06'),
(47, '2025-10-19 09:21:18'),
(38, '2025-05-23 04:06:30'),
(60, '2025-09-07 14:31:43'),
(21, '2025-11-04 18:56:55'),
(43, '2025-07-14 01:22:07'),
(23, '2025-09-10 06:47:19'),
(45, '2025-06-30 11:12:31'),
(51, '2025-11-02 15:57:43'),
(37, '2025-08-25 20:23:56'),
(29, '2025-10-21 02:49:08'),
(59, '2025-05-19 07:34:20'),
(22, '2025-09-15 12:19:35'),
(40, '2025-07-07 16:54:48'),
(35, '2025-06-20 21:40:00'),
(57, '2025-10-28 04:25:12');
