
services:
  # MySQLã‚µãƒ¼ãƒ“ã‚¹ã®å®šç¾©
  db:
    image: mysql:8.0
    container_name: mysql_db
    # restart: always # ã‚³ãƒ³ãƒ†ãƒŠãŒçµ‚äº†ã—ãŸå ´åˆã«è‡ªå‹•çš„ã«å†èµ·å‹•
    environment:
      # ç’°å¢ƒå¤‰æ•°ã§åˆæœŸè¨­å®šã‚’è¡Œã†
      MYSQL_ROOT_PASSWORD: my-secret-password # ğŸš¨ æœ¬ç•ªç’°å¢ƒã§ã¯ã‚ˆã‚Šå¼·åŠ›ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®šã—ã¦ãã ã•ã„
      MYSQL_DATABASE: my_database # åˆæœŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å
    ports:
      - "3308:3306" # ãƒ›ã‚¹ãƒˆã®3308ãƒãƒ¼ãƒˆã‚’ã‚³ãƒ³ãƒ†ãƒŠã®3306ãƒãƒ¼ãƒˆã«ãƒãƒƒãƒ”ãƒ³ã‚°
    volumes:
      # ãƒ‡ãƒ¼ã‚¿ã®æ°¸ç¶šåŒ–è¨­å®š: åå‰ä»˜ããƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’ãƒã‚¦ãƒ³ãƒˆ
      # ä»Šå›ã¯æ°¸ç¶šåŒ–ã—ãªã„
      # - mysql_mcp_data:/var/lib/mysql
      - ./init.sql:/docker-entrypoint-initdb.d/init.sql:ro  # â† ã“ã“ã‚’ãƒã‚¦ãƒ³ãƒˆ
    command: --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci

# ãƒœãƒªãƒ¥ãƒ¼ãƒ ã®å®šç¾©
volumes:
  mysql_mcp_data: # <- ã“ã®åå‰ä»˜ããƒœãƒªãƒ¥ãƒ¼ãƒ ãŒãƒ‡ãƒ¼ã‚¿ã‚’ä¿æŒã—ã¾ã™
